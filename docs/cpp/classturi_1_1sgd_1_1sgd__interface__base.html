<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Turi Create: turi::sgd::sgd_interface_base Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Turi Create
   &#160;<span id="projectnumber">4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classturi_1_1sgd_1_1sgd__interface__base.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classturi_1_1sgd_1_1sgd__interface__base-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">turi::sgd::sgd_interface_base Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="sgd__interface_8hpp_source.html">unity/toolkits/sgd/sgd_interface.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abd8e6fa63dbace7b5849e0b465958706"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#abd8e6fa63dbace7b5849e0b465958706">setup</a> (const v2::ml_data &amp;train_data, const std::map&lt; std::string, <a class="el" href="classturi_1_1flexible__type.html">flexible_type</a> &gt; &amp;options)</td></tr>
<tr class="separator:abd8e6fa63dbace7b5849e0b465958706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8a13daff2ac5fa0fda4b26379362108"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#af8a13daff2ac5fa0fda4b26379362108">setup_iteration</a> (size_t iteration, double step_size)</td></tr>
<tr class="separator:af8a13daff2ac5fa0fda4b26379362108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab239a3454ff7adbf4c77c2a2d87ddc9a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#ab239a3454ff7adbf4c77c2a2d87ddc9a">finalize_iteration</a> ()</td></tr>
<tr class="separator:ab239a3454ff7adbf4c77c2a2d87ddc9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa45e089d921e0fa240c1edaa1fda512a"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#aa45e089d921e0fa240c1edaa1fda512a">l2_regularization_factor</a> () const </td></tr>
<tr class="separator:aa45e089d921e0fa240c1edaa1fda512a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad508e86b7594f5995b5cfa6a2aba0c29"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#ad508e86b7594f5995b5cfa6a2aba0c29">max_step_size</a> () const </td></tr>
<tr class="separator:ad508e86b7594f5995b5cfa6a2aba0c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb401e8a9214360de230a51bc7a3579d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#acb401e8a9214360de230a51bc7a3579d">state_is_numerically_stable</a> () const </td></tr>
<tr class="separator:acb401e8a9214360de230a51bc7a3579d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf97455ecd135ede0b21a55e37fe0b37"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#acf97455ecd135ede0b21a55e37fe0b37">setup_optimization</a> (size_t random_seed=size_t(-1), bool _in_trial_mode=false)=0</td></tr>
<tr class="separator:acf97455ecd135ede0b21a55e37fe0b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a411751724929e9a9c81dc78323abad2e"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#a411751724929e9a9c81dc78323abad2e">calculate_loss</a> (const v2::ml_data &amp;data) const =0</td></tr>
<tr class="separator:a411751724929e9a9c81dc78323abad2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919c8675dddf6c120b51131e2c8ca645"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#a919c8675dddf6c120b51131e2c8ca645">reported_loss_value</a> (double accumulative_loss) const =0</td></tr>
<tr class="separator:a919c8675dddf6c120b51131e2c8ca645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef66e0d240338423626057865d01d11"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#aeef66e0d240338423626057865d01d11">reported_loss_name</a> () const =0</td></tr>
<tr class="separator:aeef66e0d240338423626057865d01d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c06c682111c93c579e5333906cd4d0"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#ac2c06c682111c93c579e5333906cd4d0">current_regularization_penalty</a> () const =0</td></tr>
<tr class="separator:ac2c06c682111c93c579e5333906cd4d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad76331ae61ade0a12b9e7d08b2e72715"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#ad76331ae61ade0a12b9e7d08b2e72715">apply_sgd_step</a> (size_t thread_idx, const std::vector&lt; <a class="el" href="structturi_1_1v2_1_1ml__data__entry.html">v2::ml_data_entry</a> &gt; &amp;x, double y, double step_size)=0</td></tr>
<tr class="separator:ad76331ae61ade0a12b9e7d08b2e72715"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The base class for all the SGD interfaces. This interface governs all the interactions between the sgd solvers and the model.</p>
<p>To implement an sgd solver, subclass <a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html">sgd_interface_base</a> and implement the appropriate methods.</p>
<p>Then on top of this, choose the solver, and template it with your interface. The basic solver is the basic_sgd_solver, defined in <a class="el" href="basic__sgd__solver_8hpp_source.html">basic_sgd_solver.hpp</a>.</p>
<p>Example:</p>
<p>class simple_sgd_interface { ... };</p>
<p>std::shared_ptr&lt;simple_sgd_interface&gt; iface(new simple_sgd_interface);</p>
<p>basic_sgd_solver&lt;simple_sgd_interface&gt; solver(iface, train_data, options);</p>
<p>auto training_status = solver.run(); </p>

<p>Definition at line <a class="el" href="sgd__interface_8hpp_source.html#l00048">48</a> of file <a class="el" href="sgd__interface_8hpp_source.html">sgd_interface.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad76331ae61ade0a12b9e7d08b2e72715"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual double turi::sgd::sgd_interface_base::apply_sgd_step </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>thread_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structturi_1_1v2_1_1ml__data__entry.html">v2::ml_data_entry</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>step_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Apply the sgd step. Called on each data point. </p>

<p>Implemented in <a class="el" href="classturi_1_1factorization_1_1factorization__sgd__interface.html#a4562dda5f029eb119da034b89fa68118">turi::factorization::factorization_sgd_interface&lt; GLMModel, _LossModelProfile, _regularization_type &gt;</a>.</p>

</div>
</div>
<a class="anchor" id="a411751724929e9a9c81dc78323abad2e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual double turi::sgd::sgd_interface_base::calculate_loss </td>
          <td>(</td>
          <td class="paramtype">const v2::ml_data &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Calculate the value of the objective function as determined by the loss function, for a full data set, minus the regularization penalty.</p>
<p>In reporting this loss, reported_loss_value(...) is called on this value to get a loss value to print.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The data to use in calculating the objective function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(loss for objective, loss for reporting) </dd></dl>

<p>Implemented in <a class="el" href="classturi_1_1factorization_1_1factorization__sgd__interface.html#a70c3667fbf0c9817e905198b5c06171e">turi::factorization::factorization_sgd_interface&lt; GLMModel, _LossModelProfile, _regularization_type &gt;</a>.</p>

</div>
</div>
<a class="anchor" id="ac2c06c682111c93c579e5333906cd4d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual double turi::sgd::sgd_interface_base::current_regularization_penalty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Calculate the current regularization penalty. This is used to compute the objective value, which is interpreted as loss + reg penalty. </p>

<p>Implemented in <a class="el" href="classturi_1_1factorization_1_1factorization__sgd__interface.html#a871fd65912a06f68ae8e986d5044baef">turi::factorization::factorization_sgd_interface&lt; GLMModel, _LossModelProfile, _regularization_type &gt;</a>.</p>

</div>
</div>
<a class="anchor" id="ab239a3454ff7adbf4c77c2a2d87ddc9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void turi::sgd::sgd_interface_base::finalize_iteration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called at the end of each pass through the data. </p>

<p>Reimplemented in <a class="el" href="classturi_1_1factorization_1_1factorization__sgd__interface.html#acd2d37ac9b3c03c94d474897eedb7c9b">turi::factorization::factorization_sgd_interface&lt; GLMModel, _LossModelProfile, _regularization_type &gt;</a>.</p>

<p>Definition at line <a class="el" href="sgd__interface_8hpp_source.html#l00069">69</a> of file <a class="el" href="sgd__interface_8hpp_source.html">sgd_interface.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa45e089d921e0fa240c1edaa1fda512a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual double turi::sgd::sgd_interface_base::l2_regularization_factor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>For automatically tuning the SGD step size and calculating the decrease rate of the step size. This value is also used to determine an upper bound on the allowed sgd step size, above which the algorithm stops being numerically stable. It also helps govern the decrease rate of the step size over iterations. </p>

<p>Reimplemented in <a class="el" href="classturi_1_1factorization_1_1factorization__sgd__interface.html#a429c9de35e886af085080745c4f3123b">turi::factorization::factorization_sgd_interface&lt; GLMModel, _LossModelProfile, _regularization_type &gt;</a>.</p>

<p>Definition at line <a class="el" href="sgd__interface_8hpp_source.html#l00077">77</a> of file <a class="el" href="sgd__interface_8hpp_source.html">sgd_interface.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad508e86b7594f5995b5cfa6a2aba0c29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual double turi::sgd::sgd_interface_base::max_step_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gives a hard limit on the sgd step size. Certain algorithms will blow up with a step size too large, and this gives a method of setting a hard limit on step sizes considered. </p>

<p>Reimplemented in <a class="el" href="classturi_1_1factorization_1_1factorization__sgd__interface.html#a87542cc4e9a9283a45bb9a64c35c32f3">turi::factorization::factorization_sgd_interface&lt; GLMModel, _LossModelProfile, _regularization_type &gt;</a>.</p>

<p>Definition at line <a class="el" href="sgd__interface_8hpp_source.html#l00083">83</a> of file <a class="el" href="sgd__interface_8hpp_source.html">sgd_interface.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aeef66e0d240338423626057865d01d11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string turi::sgd::sgd_interface_base::reported_loss_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The name of the loss to report on each iteration.</p>
<p>For example, if squared error loss is used, <a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#aeef66e0d240338423626057865d01d11">reported_loss_name()</a> could give RMSE, and then reported_loss_value(v) would be std::sqrt(v). </p>

<p>Implemented in <a class="el" href="classturi_1_1factorization_1_1factorization__sgd__interface.html#a924468666e44f162aae16219178f7763">turi::factorization::factorization_sgd_interface&lt; GLMModel, _LossModelProfile, _regularization_type &gt;</a>.</p>

</div>
</div>
<a class="anchor" id="a919c8675dddf6c120b51131e2c8ca645"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual double turi::sgd::sgd_interface_base::reported_loss_value </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>accumulative_loss</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The value of the reported loss. The apply_sgd_step accumulates estimated loss values between samples. This function is called with this accumulated value to get a value</p>
<p>For example, if squared error loss is used, <a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html#aeef66e0d240338423626057865d01d11">reported_loss_name()</a> could give RMSE, and then reported_loss_value(v) would be std::sqrt(v). </p>

<p>Implemented in <a class="el" href="classturi_1_1factorization_1_1factorization__sgd__interface.html#a18e307a62ae75bddb409cf9405538aa1">turi::factorization::factorization_sgd_interface&lt; GLMModel, _LossModelProfile, _regularization_type &gt;</a>.</p>

</div>
</div>
<a class="anchor" id="abd8e6fa63dbace7b5849e0b465958706"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void turi::sgd::sgd_interface_base::setup </td>
          <td>(</td>
          <td class="paramtype">const v2::ml_data &amp;&#160;</td>
          <td class="paramname"><em>train_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, <a class="el" href="classturi_1_1flexible__type.html">flexible_type</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called at the start of optimization, before any other functions are called.</p>
<p>Perform any setup in light of the data used for training the model. Since <a class="el" href="classturi_1_1ml__data.html">ml_data</a> has some statistics (e.g. maximum row size), these can be saved for processing stuff later. </p>

<p>Reimplemented in <a class="el" href="classturi_1_1factorization_1_1factorization__sgd__interface.html#abb989f0c31113a58285d2f74da914064">turi::factorization::factorization_sgd_interface&lt; GLMModel, _LossModelProfile, _regularization_type &gt;</a>.</p>

<p>Definition at line <a class="el" href="sgd__interface_8hpp_source.html#l00060">60</a> of file <a class="el" href="sgd__interface_8hpp_source.html">sgd_interface.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af8a13daff2ac5fa0fda4b26379362108"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void turi::sgd::sgd_interface_base::setup_iteration </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>iteration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>step_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called before each pass through the data. </p>

<p>Reimplemented in <a class="el" href="classturi_1_1factorization_1_1factorization__sgd__interface.html#adc35909cb7288bb6ec2bd6efb8ed70f1">turi::factorization::factorization_sgd_interface&lt; GLMModel, _LossModelProfile, _regularization_type &gt;</a>.</p>

<p>Definition at line <a class="el" href="sgd__interface_8hpp_source.html#l00065">65</a> of file <a class="el" href="sgd__interface_8hpp_source.html">sgd_interface.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="acf97455ecd135ede0b21a55e37fe0b37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void turi::sgd::sgd_interface_base::setup_optimization </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>random_seed</em> = <code>size_t(-1)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_in_trial_mode</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets up the optimization run. Called at the beginning of an optimization run or in the presence of numerical instabilities to reset the solver. Optimization is attempted again with a smaller step size. </p>

<p>Implemented in <a class="el" href="classturi_1_1factorization_1_1factorization__sgd__interface.html#adf3b469ec25f34b3232657c62326050b">turi::factorization::factorization_sgd_interface&lt; GLMModel, _LossModelProfile, _regularization_type &gt;</a>.</p>

</div>
</div>
<a class="anchor" id="acb401e8a9214360de230a51bc7a3579d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool turi::sgd::sgd_interface_base::state_is_numerically_stable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If there are any issues with the model, this function can return false to force a reset. It is called once at the end of each iteration.</p>
<p>Returns true if the state is numerically stable, and false if there are any numerical instabilities detected now or in the previous pass over the data. If this is true, then reset_state is called. </p>

<p>Reimplemented in <a class="el" href="classturi_1_1factorization_1_1factorization__sgd__interface.html#a603ad0bd99e48e162d6e0b0940dcc69e">turi::factorization::factorization_sgd_interface&lt; GLMModel, _LossModelProfile, _regularization_type &gt;</a>.</p>

<p>Definition at line <a class="el" href="sgd__interface_8hpp_source.html#l00094">94</a> of file <a class="el" href="sgd__interface_8hpp_source.html">sgd_interface.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>unity/toolkits/sgd/<a class="el" href="sgd__interface_8hpp_source.html">sgd_interface.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceturi.html">turi</a></li><li class="navelem"><b>sgd</b></li><li class="navelem"><a class="el" href="classturi_1_1sgd_1_1sgd__interface__base.html">sgd_interface_base</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
