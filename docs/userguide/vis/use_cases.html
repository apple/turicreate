
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Sample Use Cases Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../applications/" />
    
    
    <link rel="prev" href="gallery.html" />
    

    <script src="../turi/js/jquery/jquery-2.1.3.min.js"></script>
    <script src="../turi/js/d3/d3.min.js"></script>
    <script src="../supervised-learning/images/random-utils.js"></script>
    <script src="../supervised-learning/images/plotting-utils.js"></script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../sframe/">
            
                <a href="../sframe/">
            
                    
                    Working with data
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../sframe/tabular-data.html">
            
                <a href="../sframe/tabular-data.html">
            
                    
                    Tabular data
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../sframe/sframe-intro.html">
            
                <a href="../sframe/sframe-intro.html">
            
                    
                    Loading and Saving
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../sframe/data-manipulation.html">
            
                <a href="../sframe/data-manipulation.html">
            
                    
                    Data Manipulation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="../data_formats_and_sources/sql_integration.html">
            
                <a href="../data_formats_and_sources/sql_integration.html">
            
                    
                    SQL Databases
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../sgraph/sgraph.html">
            
                <a href="../sgraph/sgraph.html">
            
                    
                    Graph data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../text/analysis.html">
            
                <a href="../text/analysis.html">
            
                    
                    Text data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="./">
            
                <a href="./">
            
                    
                    Visualization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="gallery.html">
            
                <a href="gallery.html">
            
                    
                    Example Gallery
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.4.2" data-path="use_cases.html">
            
                <a href="use_cases.html">
            
                    
                    Sample Use Cases
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../applications/">
            
                <a href="../applications/">
            
                    
                    Task focused toolkits
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../recommender/">
            
                <a href="../recommender/">
            
                    
                    Recommender Systems
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../recommender/using-trained-models.html">
            
                <a href="../recommender/using-trained-models.html">
            
                    
                    Using models
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../recommender/choosing-a-model.html">
            
                <a href="../recommender/choosing-a-model.html">
            
                    
                    Choosing a model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="../recommender/coreml-deployment.html">
            
                <a href="../recommender/coreml-deployment.html">
            
                    
                    Deployment to Core ML
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../image_classifier/">
            
                <a href="../image_classifier/">
            
                    
                    Image Classification
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../image_classifier/advanced-usage.html">
            
                <a href="../image_classifier/advanced-usage.html">
            
                    
                    Advanced Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../image_classifier/how-it-works.html">
            
                <a href="../image_classifier/how-it-works.html">
            
                    
                    How it works
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../image_classifier/export-coreml.html">
            
                <a href="../image_classifier/export-coreml.html">
            
                    
                    Deployment to Core ML
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../drawing_classifier/">
            
                <a href="../drawing_classifier/">
            
                    
                    Drawing Classification
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../drawing_classifier/how-it-works.html">
            
                <a href="../drawing_classifier/how-it-works.html">
            
                    
                    How it works
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="../drawing_classifier/data-preparation.html">
            
                <a href="../drawing_classifier/data-preparation.html">
            
                    
                    Data Preparation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="../drawing_classifier/export-coreml.html">
            
                <a href="../drawing_classifier/export-coreml.html">
            
                    
                    Deployment to Core ML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.4" data-path="../drawing_classifier/advanced-usage.html">
            
                <a href="../drawing_classifier/advanced-usage.html">
            
                    
                    Advanced Usage
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../sound_classifier/">
            
                <a href="../sound_classifier/">
            
                    
                    Sound Classification
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../sound_classifier/how-it-works.html">
            
                <a href="../sound_classifier/how-it-works.html">
            
                    
                    How it works
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="../sound_classifier/advanced-usage.html">
            
                <a href="../sound_classifier/advanced-usage.html">
            
                    
                    Advanced Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.3" data-path="../sound_classifier/export-coreml.html">
            
                <a href="../sound_classifier/export-coreml.html">
            
                    
                    Deployment to Core ML
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../image_similarity/">
            
                <a href="../image_similarity/">
            
                    
                    Image Similarity
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.5.1" data-path="../image_similarity/export-coreml.html">
            
                <a href="../image_similarity/export-coreml.html">
            
                    
                    Deployment to Core ML
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../object_detection/">
            
                <a href="../object_detection/">
            
                    
                    Object Detection
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.6.1" data-path="../object_detection/data-preparation.html">
            
                <a href="../object_detection/data-preparation.html">
            
                    
                    Data Preparation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.2" data-path="../object_detection/advanced-usage.html">
            
                <a href="../object_detection/advanced-usage.html">
            
                    
                    Advanced Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.3" data-path="../object_detection/export-coreml.html">
            
                <a href="../object_detection/export-coreml.html">
            
                    
                    Deployment to Core ML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.4" data-path="../object_detection/how-it-works.html">
            
                <a href="../object_detection/how-it-works.html">
            
                    
                    How it works
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../one_shot_object_detection/">
            
                <a href="../one_shot_object_detection/">
            
                    
                    One-Shot Object Detection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../style_transfer/">
            
                <a href="../style_transfer/">
            
                    
                    Style Transfer
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.8.1" data-path="../style_transfer/how-it-works.html">
            
                <a href="../style_transfer/how-it-works.html">
            
                    
                    How it works
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8.2" data-path="../style_transfer/export-coreml.html">
            
                <a href="../style_transfer/export-coreml.html">
            
                    
                    Deployment to Core ML
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../activity_classifier/">
            
                <a href="../activity_classifier/">
            
                    
                    Activity Classification
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.9.1" data-path="../activity_classifier/data-preparation.html">
            
                <a href="../activity_classifier/data-preparation.html">
            
                    
                    Data Preparation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.2" data-path="../activity_classifier/advanced-usage.html">
            
                <a href="../activity_classifier/advanced-usage.html">
            
                    
                    Advanced Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.3" data-path="../activity_classifier/export_coreml.html">
            
                <a href="../activity_classifier/export_coreml.html">
            
                    
                    Deployment to Core ML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.4" data-path="../activity_classifier/how-it-works.html">
            
                <a href="../activity_classifier/how-it-works.html">
            
                    
                    How it works
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="../text_classifier/">
            
                <a href="../text_classifier/">
            
                    
                    Text Classifier
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../modeling-data/">
            
                <a href="../modeling-data/">
            
                    
                    Machine learning essentials
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../supervised-learning/classifier.html">
            
                <a href="../supervised-learning/classifier.html">
            
                    
                    Classification
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../supervised-learning/boosted_trees_classifier.html">
            
                <a href="../supervised-learning/boosted_trees_classifier.html">
            
                    
                    Boosted Trees Classifier
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../supervised-learning/decision_tree_classifier.html">
            
                <a href="../supervised-learning/decision_tree_classifier.html">
            
                    
                    Decision Tree Classifier
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../supervised-learning/logistic-regression.html">
            
                <a href="../supervised-learning/logistic-regression.html">
            
                    
                    Logistic Regression
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="../supervised-learning/knn_classifier.html">
            
                <a href="../supervised-learning/knn_classifier.html">
            
                    
                    Nearest Neighbor Classifier
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.5" data-path="../supervised-learning/random_forest_classifier.html">
            
                <a href="../supervised-learning/random_forest_classifier.html">
            
                    
                    Random Forest Classifier
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.6" data-path="../supervised-learning/svm.html">
            
                <a href="../supervised-learning/svm.html">
            
                    
                    SVM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.7" data-path="../supervised-learning/export-coreml.html">
            
                <a href="../supervised-learning/export-coreml.html">
            
                    
                    Deployment to Core ML
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../clustering/">
            
                <a href="../clustering/">
            
                    
                    Clustering
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../clustering/kmeans.html">
            
                <a href="../clustering/kmeans.html">
            
                    
                    KMeans
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../clustering/dbscan.html">
            
                <a href="../clustering/dbscan.html">
            
                    
                    DBSCAN
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../graph_analytics/">
            
                <a href="../graph_analytics/">
            
                    
                    Graph analytics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../nearest_neighbors/nearest_neighbors.html">
            
                <a href="../nearest_neighbors/nearest_neighbors.html">
            
                    
                    Nearest neighbors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../supervised-learning/regression.html">
            
                <a href="../supervised-learning/regression.html">
            
                    
                    Regression
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.5.1" data-path="../supervised-learning/boosted_trees_regression.html">
            
                <a href="../supervised-learning/boosted_trees_regression.html">
            
                    
                    Boosted Trees Regression
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.2" data-path="../supervised-learning/decision_tree_regression.html">
            
                <a href="../supervised-learning/decision_tree_regression.html">
            
                    
                    Decision Tree Regression
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.3" data-path="../supervised-learning/linear-regression.html">
            
                <a href="../supervised-learning/linear-regression.html">
            
                    
                    Linear Regression
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.4" data-path="../supervised-learning/random_forest_regression.html">
            
                <a href="../supervised-learning/random_forest_regression.html">
            
                    
                    Random Forest Regression
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5.5" data-path="../supervised-learning/export-coreml.html">
            
                <a href="../supervised-learning/export-coreml.html">
            
                    
                    Deployment to Core ML
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../text/">
            
                <a href="../text/">
            
                    
                    Text analysis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../evaluation/">
            
                <a href="../evaluation/">
            
                    
                    Evaluating models
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../evaluation/regression.html">
            
                <a href="../evaluation/regression.html">
            
                    
                    Regression metrics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../evaluation/classification.html">
            
                <a href="../evaluation/classification.html">
            
                    
                    Classification metrics
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../conclusion.html">
            
                <a href="../conclusion.html">
            
                    
                    Additional Resources
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../cpp.html">
            
                <a href="../cpp.html">
            
                    
                    C++ API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../datasets.html">
            
                <a href="../datasets.html">
            
                    
                    Dataset Disclaimer
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Sample Use Cases</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="sample-use-cases-for-visualization"><a name="sample-use-cases-for-visualization" class="plugin-anchor" href="#sample-use-cases-for-visualization"><i class="fa fa-link" aria-hidden="true"></i></a>Sample Use Cases for Visualization</h2><p>In this chapter, we will use the <code>show</code> and <code>explore</code> methods to get insight
about a dataset to use it for a modeling problem.</p><h4 id="use-case-automated-code-formatting"><a name="use-case-automated-code-formatting" class="plugin-anchor" href="#use-case-automated-code-formatting"><i class="fa fa-link" aria-hidden="true"></i></a>Use case: automated code formatting</h4><p>As a developer, I&apos;d like to use automated tools to help me write code in the
same style as the code in the current Turi Create repository. One commonly used
code formatting tool is
<a href="https://clang.llvm.org/docs/ClangFormat.html" target="_blank">clang-format</a>. Since we don&apos;t
yet have a set of configuration options for the repository, we&apos;ll need to make
one.  We don&apos;t exactly know the right set of options up front, but we have
representative example data available in the form of the existing source code.
We can use machine learning to help solve this problem. The modeling problem
this chapter focuses on is to find the best fitting configuration of
<code>clang-format</code>, given the existing source code of Turi Create.</p><p>There are many possible configuration options, with many possible values, and
testing all of them would take a very long time. However, we can use a small
random sample of these configurations to model the ideal configuration, by
treating each <code>clang-format</code> configuration variable (like
<code>AlignAfterOpenBracket</code>) as an independent feature to a model. While exploring
how to model the formatting of the source code, we will see how visualizing raw
data, data aggregated across a single dimension, and data aggregated across two
dimensions can help us manipulate data and understand the behavior of a model.</p><h4 id="loading-and-exploring-data"><a name="loading-and-exploring-data" class="plugin-anchor" href="#loading-and-exploring-data"><i class="fa fa-link" aria-hidden="true"></i></a>Loading and exploring data</h4><p>We&apos;ll start by loading the dataset and getting an overview of the data. There
are two useful methods on <code>SFrame</code> objects that can help us understand what we
just loaded:</p><ul><li><code>explore</code> gives us a table view of rows and columns of raw data.
</li>
<li><code>show</code> gives us an aggregated overview of each column in the dataset.
</li></ul>
<pre><code class="lang-python">sf = turicreate.SFrame.read_csv(<span class="hljs-string">&apos;https://docs-assets.developer.apple.com/turicreate/datasets/tc-clang-format-results.csv&apos;</span>)
sf.explore()</code></pre>
<p><img alt="sf.explore()" src="images/sframe_explore.png"></p><p>The explore method opens a scrollable table of the raw data from <code>sf</code> arranged
in rows and columns. This dataset contains the following columns:</p><ul><li><code>Lines Added</code> represents the number of lines that would be added, for this
source file, for this clang-format configuration.  <code>Lines Removed</code> represents
the number of lines that would be removed, per source file, for this
configuration.
</li>
<li><code>File Path</code> is the path to a file in the Turi Create source tree.
</li>
<li>Each column starting with <code>Config.</code> is a distinct clang-format configuration
option. For example, <code>Config.BasedOnStyle</code> refers to the <code>BasedOnStyle</code>
option in the
<a href="https://clang.llvm.org/docs/ClangFormatStyleOptions.html#configurable-format-style-options" target="_blank">clang-format options</a>.
There are 20 such columns.
</li></ul>
<p>Each line in this dataset is created by performing the following steps:</p><ol><li>From the set of possible file paths under <code>src/unity</code>, sample a random file
path. This becomes the <code>File Path</code> column.
</li>
<li>From the set of possible
<a href="https://clang.llvm.org/docs/ClangFormatStyleOptions.html#configurable-format-style-options" target="_blank">clang-format options</a>,
sample a random combination of options. This becomes each of the 20
<code>Config.</code> columns. Note that there are more than 20 <code>clang-format</code>
configuration options available; to speed up this process, we are looking
only at the first 20 options in alphabetical order.
</li>
<li><p>Apply the set of options in step (2) to the file path in step (1), by running:</p><pre><code class="lang-bash">clang-format -i <span class="hljs-variable">$FILE_PATH</span></code></pre>
<p>The result of this command is not directly used in the dataset.</p></li>
<li><p>Determine the diff (in lines added and removed) resulting from step 3 by running:</p><pre><code class="lang-bash">git diff --numstat</code></pre>
<p>The result of this command becomes the <code>Lines Added</code> and <code>Lines Removed</code>
columns.</p></li>
<li><p>Revert the changes on disk using <code>git reset --hard</code>, and repeat for another
row of data.</p></li></ol>
<p>By having a quick look at the summarized data presented by the <code>show</code> method,
we can get a good sense if these columns are ready to be used as targets for
our model.  Typical problems in the data such as missing values, outliers and
skewed input values could be easily spotted, allowing us to quickly identify
the required cleaning steps.</p><pre><code class="lang-python">sf.show()</code></pre>
<p><img alt="sf.show()" src="images/sframe_show.png"></p><p>We can clearly see that in almost all of the config changes, only a few lines
of code were changed.  In fact, so few lines of code have changed, that almost
the entire distribution is stacked near 0 in the first bin. This suggests
<a href="https://en.wikipedia.org/wiki/Outlier" target="_blank">outliers</a> are skewing the distribution,
so let&apos;s see what they are:</p><pre><code class="lang-python">sf[sf[<span class="hljs-string">&apos;Lines Added&apos;</span>] &gt; <span class="hljs-number">10000</span>].explore()</code></pre>
<p><img alt="sf.explore()" src="images/sframe_explore_2.png"></p><p>From this subset of the data, we can tell that the files with a large (outlier)
number of lines added tend to come from <code>toolkits/coreml_export/MLModel</code>. Aha!
It turns out the MLModel directory is for exporting models in the Core ML model
format, and contains a large amount of generated code. Let&apos;s exclude it from
our analysis.</p><pre><code class="lang-python">mostly_generated_code = sf[<span class="hljs-string">&apos;File Path&apos;</span>].apply(<span class="hljs-keyword">lambda</span> path: <span class="hljs-string">&apos;/MLModel/&apos;</span> <span class="hljs-keyword">in</span> path)
sf = sf[mostly_generated_code != <span class="hljs-number">1</span>]
sf.show()</code></pre>
<p><img alt="sf.show()" src="images/sframe_show_2.png"></p><p>Now we can have a proper look at the number of changes. It seems that most
cases only had a few lines changed. From here it looks to go down
exponentially, with only a few of the configurations leading to more than 500
lines changed, and almost none with more than 800 changes. By scrolling down in
the visualization window, we can also see the distributions of the other
columns:</p><p><img alt="sf.show(), scrolled down" src="images/sframe_show_3.png"></p><h4 id="explore-some-features"><a name="explore-some-features" class="plugin-anchor" href="#explore-some-features"><i class="fa fa-link" aria-hidden="true"></i></a>Explore some features</h4><p>The target of our model would be to optimize the number of lines changed,
regardless of whether they were deleted or added. Let&apos;s choose one config
parameter, and inspect how it correlates with our target of lines changed.  To
achieve this, we will use the <code>turicreate.show</code> method, that takes two columns
(SArrays) and plots one on each axis. The type of plot chosen by
<code>turicreate.show</code> is automatic, based on the underlying data types in each
SArray, and in this case we&apos;re going to get a <a href="https://en.wikipedia.org/wiki/Box_plot" target="_blank">box
plot</a> because we are plotting a
categorical column with a numeric column.</p><pre><code class="lang-python">sf[<span class="hljs-string">&apos;Lines Changed&apos;</span>] = sf[<span class="hljs-string">&apos;Lines Added&apos;</span>] + sf[<span class="hljs-string">&apos;Lines Removed&apos;</span>]
turicreate.show(sf[<span class="hljs-string">&apos;Config.BasedOnStyle&apos;</span>],
                sf[<span class="hljs-string">&apos;Lines Changed&apos;</span>],
                xlabel=<span class="hljs-string">&apos;Based on Style&apos;</span>,
                ylabel=<span class="hljs-string">&apos;Lines Changed&apos;</span>)</code></pre>
<p><img alt="turicreate.show()" src="images/box_plot.png"></p><p>The box plot shows us the distribution of values on the Y axis (&quot;Lines
Changed&quot;), for each distinct categorical value on the X axis (&quot;Based on
Style&quot;).  This type of plot shows a line representing the full range of the
data (from min to max), and a smaller rectangle within that line that
represents the range of the 2nd and 3rd quartiles (from 25% to 75%).  We can
see from this plot that the base style that gives the smallest change overall
in this sample data is either &quot;Google&quot; or &quot;Chromium&quot;. It appears that in all of
the base styles, the majority of the files had only a few line changed, but
there were a few files in which thousands of lines have changed. Looking at
number of lines changed might be misleading, as long files would have more
changes even if the change itself wasn&apos;t significant. We should probably
normalize the &quot;Lines Changed&quot; measurement by file size. Now that we&apos;ve noticed
this by visualizing this feature, let&apos;s go back and adjust in our dataset for
the length of the file.</p><pre><code class="lang-python">file_sizes = turicreate.SFrame.read_csv(<span class="hljs-string">&apos;https://docs-assets.developer.apple.com/turicreate/datasets/tc-clang-format-file-sizes.csv&apos;</span>)
sf = sf.join(file_sizes, on=<span class="hljs-string">&apos;File Path&apos;</span>, how=<span class="hljs-string">&apos;left&apos;</span>)
sf[<span class="hljs-string">&apos;Normalized Lines Changed&apos;</span>] = sf[<span class="hljs-string">&apos;Lines Changed&apos;</span>] / sf[<span class="hljs-string">&apos;Lines in File&apos;</span>]
turicreate.show(sf[<span class="hljs-string">&apos;Config.BasedOnStyle&apos;</span>],
                sf[<span class="hljs-string">&apos;Normalized Lines Changed&apos;</span>],
                xlabel=<span class="hljs-string">&apos;Based on Style&apos;</span>,
                ylabel=<span class="hljs-string">&apos;Normalized Lines Changed&apos;</span>)</code></pre>
<p><img alt="turicreate.show(x,y)" src="images/box_plot_2.png"></p><p>Now we see a much better distribution of lines changed per base config. Now
that we&apos;ve normalized by file size, let&apos;s take a look at the distribution of
lines changed across all configs once more, by calling the <code>show</code> method on the
&quot;Normalized Lines Changed&quot; column:</p><pre><code class="lang-python">sf[<span class="hljs-string">&apos;Normalized Lines Changed&apos;</span>].show(title=<span class="hljs-string">&apos;Normalized Lines Changed&apos;</span>)</code></pre>
<p><img alt="sf.show()" src="images/numeric_histogram.png"></p><p>After eliminating outliers and normalizing for file size, the distribution of
lines changed starts to make more sense. Now we are ready to create a model.</p><h4 id="evaluate-a-model"><a name="evaluate-a-model" class="plugin-anchor" href="#evaluate-a-model"><i class="fa fa-link" aria-hidden="true"></i></a>Evaluate a model</h4><p>Next, let&apos;s create a regression model using the data we have now, treating each
&quot;Config.&quot; column as a feature of the model, and the &quot;Normalized Lines Changed&quot;
column as the target to predict. Once the model has been created, we can use it
to predict the normalized lines changed for a subset of the data. By plotting
that prediction against the actual normalized lines changed, we can then get a
visual feel for how well the model is performing.</p><pre><code class="lang-python">(train, test) = sf.random_split(<span class="hljs-number">0.9</span>)
features = [c <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> sf.column_names() <span class="hljs-keyword">if</span> c.startswith(<span class="hljs-string">&apos;Config.&apos;</span>)]
model = turicreate.regression.create(train,
                                     target=<span class="hljs-string">&apos;Normalized Lines Changed&apos;</span>,
                                     features=features)
test[<span class="hljs-string">&apos;Predicted Change&apos;</span>] = model.predict(test)
turicreate.show(test[<span class="hljs-string">&apos;Normalized Lines Changed&apos;</span>],
                test[<span class="hljs-string">&apos;Predicted Change&apos;</span>],
                xlabel=<span class="hljs-string">&apos;Actual Change&apos;</span>,
                ylabel=<span class="hljs-string">&apos;Predicted Change&apos;</span>)</code></pre>
<p><img alt="turicreate.show()" src="images/scatter_plot.png"></p><p>There doesn&apos;t seem to be much correlation between the predicted and actual
changes; otherwise, all the points would seem to be close to a straight line,
and not just scattered about. It seems we&apos;ll need to go back and improve our
model. Perhaps more data will help, as the ~6,800 samples we ended up training
on is only a tiny fraction of the possible search space of configuration
values. We also only used a small fraction of the possible configuration
variables here, as more would require an even larger sample size.</p><p>We can see from this exercise that visualization provides a powerful way to
help us visually inspect our data, clean it up, prepare it for modeling, and
evaluate the quality of a model. With immediate and visual feedback on the
result of data transformation, manipulation, and prediction, you can create
better models, faster.</p>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="gallery.html" class="navigation navigation-prev " aria-label="Previous page: Example Gallery">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../applications/" class="navigation navigation-next " aria-label="Next page: Task focused toolkits">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Sample Use Cases","level":"1.2.4.2","depth":3,"next":{"title":"Task focused toolkits","level":"1.3","depth":1,"path":"applications/README.md","ref":"applications/README.md","articles":[{"title":"Recommender Systems","level":"1.3.1","depth":2,"path":"recommender/README.md","ref":"recommender/README.md","articles":[{"title":"Using models","level":"1.3.1.1","depth":3,"path":"recommender/using-trained-models.md","ref":"recommender/using-trained-models.md","articles":[]},{"title":"Choosing a model","level":"1.3.1.2","depth":3,"path":"recommender/choosing-a-model.md","ref":"recommender/choosing-a-model.md","articles":[]},{"title":"Deployment to Core ML","level":"1.3.1.3","depth":3,"path":"recommender/coreml-deployment.md","ref":"recommender/coreml-deployment.md","articles":[]}]},{"title":"Image Classification","level":"1.3.2","depth":2,"path":"image_classifier/README.md","ref":"image_classifier/README.md","articles":[{"title":"Advanced Usage","level":"1.3.2.1","depth":3,"path":"image_classifier/advanced-usage.md","ref":"image_classifier/advanced-usage.md","articles":[]},{"title":"How it works","level":"1.3.2.2","depth":3,"path":"image_classifier/how-it-works.md","ref":"image_classifier/how-it-works.md","articles":[]},{"title":"Deployment to Core ML","level":"1.3.2.3","depth":3,"path":"image_classifier/export-coreml.md","ref":"image_classifier/export-coreml.md","articles":[]}]},{"title":"Drawing Classification","level":"1.3.3","depth":2,"path":"drawing_classifier/README.md","ref":"drawing_classifier/README.md","articles":[{"title":"How it works","level":"1.3.3.1","depth":3,"path":"drawing_classifier/how-it-works.md","ref":"drawing_classifier/how-it-works.md","articles":[]},{"title":"Data Preparation","level":"1.3.3.2","depth":3,"path":"drawing_classifier/data-preparation.md","ref":"drawing_classifier/data-preparation.md","articles":[]},{"title":"Deployment to Core ML","level":"1.3.3.3","depth":3,"path":"drawing_classifier/export-coreml.md","ref":"drawing_classifier/export-coreml.md","articles":[]},{"title":"Advanced Usage","level":"1.3.3.4","depth":3,"path":"drawing_classifier/advanced-usage.md","ref":"drawing_classifier/advanced-usage.md","articles":[]}]},{"title":"Sound Classification","level":"1.3.4","depth":2,"path":"sound_classifier/README.md","ref":"sound_classifier/README.md","articles":[{"title":"How it works","level":"1.3.4.1","depth":3,"path":"sound_classifier/how-it-works.md","ref":"sound_classifier/how-it-works.md","articles":[]},{"title":"Advanced Usage","level":"1.3.4.2","depth":3,"path":"sound_classifier/advanced-usage.md","ref":"sound_classifier/advanced-usage.md","articles":[]},{"title":"Deployment to Core ML","level":"1.3.4.3","depth":3,"path":"sound_classifier/export-coreml.md","ref":"sound_classifier/export-coreml.md","articles":[]}]},{"title":"Image Similarity","level":"1.3.5","depth":2,"path":"image_similarity/README.md","ref":"image_similarity/README.md","articles":[{"title":"Deployment to Core ML","level":"1.3.5.1","depth":3,"path":"image_similarity/export-coreml.md","ref":"image_similarity/export-coreml.md","articles":[]}]},{"title":"Object Detection","level":"1.3.6","depth":2,"path":"object_detection/README.md","ref":"object_detection/README.md","articles":[{"title":"Data Preparation","level":"1.3.6.1","depth":3,"path":"object_detection/data-preparation.md","ref":"object_detection/data-preparation.md","articles":[]},{"title":"Advanced Usage","level":"1.3.6.2","depth":3,"path":"object_detection/advanced-usage.md","ref":"object_detection/advanced-usage.md","articles":[]},{"title":"Deployment to Core ML","level":"1.3.6.3","depth":3,"path":"object_detection/export-coreml.md","ref":"object_detection/export-coreml.md","articles":[]},{"title":"How it works","level":"1.3.6.4","depth":3,"path":"object_detection/how-it-works.md","ref":"object_detection/how-it-works.md","articles":[]}]},{"title":"One-Shot Object Detection","level":"1.3.7","depth":2,"path":"one_shot_object_detection/README.md","ref":"one_shot_object_detection/README.md","articles":[]},{"title":"Style Transfer","level":"1.3.8","depth":2,"path":"style_transfer/README.md","ref":"style_transfer/README.md","articles":[{"title":"How it works","level":"1.3.8.1","depth":3,"path":"style_transfer/how-it-works.md","ref":"style_transfer/how-it-works.md","articles":[]},{"title":"Deployment to Core ML","level":"1.3.8.2","depth":3,"path":"style_transfer/export-coreml.md","ref":"style_transfer/export-coreml.md","articles":[]}]},{"title":"Activity Classification","level":"1.3.9","depth":2,"path":"activity_classifier/README.md","ref":"activity_classifier/README.md","articles":[{"title":"Data Preparation","level":"1.3.9.1","depth":3,"path":"activity_classifier/data-preparation.md","ref":"activity_classifier/data-preparation.md","articles":[]},{"title":"Advanced Usage","level":"1.3.9.2","depth":3,"path":"activity_classifier/advanced-usage.md","ref":"activity_classifier/advanced-usage.md","articles":[]},{"title":"Deployment to Core ML","level":"1.3.9.3","depth":3,"path":"activity_classifier/export_coreml.md","ref":"activity_classifier/export_coreml.md","articles":[]},{"title":"How it works","level":"1.3.9.4","depth":3,"path":"activity_classifier/how-it-works.md","ref":"activity_classifier/how-it-works.md","articles":[]}]},{"title":"Text Classifier","level":"1.3.10","depth":2,"path":"text_classifier/README.md","ref":"text_classifier/README.md","articles":[]}]},"previous":{"title":"Example Gallery","level":"1.2.4.1","depth":3,"path":"vis/gallery.md","ref":"vis/gallery.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"3.2.0","theme":"default","variables":{},"plugins":["collapsible-menu@1.0.2","anchors@0.5.0","mathjax"],"pluginsConfig":{"collapsible-menu":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"fontSettings":{"theme":"white","family":"sans","size":2},"highlight":{},"mathjax":{"forceSVG":false,"version":"2.6-latest"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"vis/use_cases.md","mtime":"2019-12-18T08:20:40.452Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2019-12-18T08:23:36.544Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="https://cdn.mathjax.org/mathjax/2.6-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-mathjax/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

